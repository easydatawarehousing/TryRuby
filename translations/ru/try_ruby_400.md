---
lang:   RU
title:  Все вместе
answer: ^4$
ok:     Ага, Шекспир написал 4 пьесы в 1591
error:  Ответ должен быть 4. Проверьте аргумент метода count_plays
load:   prev
---

Теперь предположим, что мы хотим знать имена и количество пьес, написанных Шекспиром
в течение определенного года.

Ruby позволяет нам выводить значения из словаря. Метод select использует блок, который позволяет нам
определить, что выбрать и вернуть найденное.

Затем мы можем использовать результаты, возвращаемые __select__ в методе __each__, как и раньше,
просто добавляя его после блока выбора. Это еще один пример цепочки методов, который мы видели
раньше, когда делали стихотворение задом наперед.

Я подготовил метод __count\_plays__ для вас. Посморим, сможете ли
вы посчитать количество пьесс, написанных Шекспиром в 1591:

    def count_plays(year)
      s = get_shakey
      
      s["William Shakespeare"]
        .select { |k, v|
          v["finished"] == year
        }.each { |key, val|
          puts val["title"]
        }.count
    end
    
    puts count_plays(0)

Вы заметили, что я добавил метод count в самом конце всего метода. Так мы получим 
возвращаемое значение метода __count\_plays__.

Есть и другой способ выстраивания цепочки. Видите одинокую строчку __s = get_shakey__.
Вы можете добавить __["William Shakespeare"].select { |k, v|__ в конец get_shakey
(не обязательно здесь).
